# 文件结构设计

```text
代码/                          # ✅ 主仓库（你们维护的所有代码）
  README.md
  .gitignore
  .gitattributes
  .env.example

  docs/
    relay_design.md               # 你这份设计文档（建议放进来）
    api.md                        # 前后端接口说明（从你文档的 4 个 API 扩写）
    uir_schema.md                 # UIR 字段规范（或用 JSON Schema）

  apps/
    web/                          # ✅ 唯一正式前端（Vite + React + TS）
    web-legacy/                   #  animation-web 的旧前端（只具备参考价值，之前所撰写的内容）

  services/
    orchestrator/                 # ✅ 生成编排中枢（FastAPI 等）
      src/
        api/                      # /api/jobs /events /assets
        planner/                  # 规则/LLM 解析 → 生成 UIR
        uir/                      # UIR 数据结构、校验、hash
        scheduler/                # 队列、semaphore、worker、状态机
        adapters/                 # 适配器实现（AnimationGPT/MusicGPT/未来模型）
        storage/                  # assets/manifest/cache/db
        config/                   # 路径、并发、模型注册、环境变量
      tests/
      pyproject.toml 或 requirements.txt

  packages/
    uir/                          # 可选：前后端共享类型（TS 类型 + Python schema）

  third_party/                    # ✅ 第三方模型代码（用 submodule）
    AnimationGPT/                 # submodule 指针，不把它“拷贝进来”

  tools/
    musicgpt/                     # ✅ 不存 exe，只存说明 + 启动脚本
      README.md

  runtime/                        # ❌ 运行时目录（必须 gitignore）
    assets/                       # /assets/{job_id}/...
    cache/
    logs/

```



﻿# 实际本地文件结构

根目录: E:\OneDrive - Coventry University\大创\代码
说明: 展示深度: 4 层；已忽略目录/文件：.git, node_modules, .venv, venv, __pycache__, dist, build, .idea, .vscode, .pytest_cache, .mypy_cache, .ruff_cache, .DS_Store, Thumbs.db, *.pyc, *.pyo

```
.
|-- apps
|   |-- web
|   \\-- web-legacy
|       |-- animation-web
|       |   |-- data
|       |   |-- frontend
|       |   |-- .env
|       |   \\-- .gitignore
|       \\-- vite-project
|           |-- public
|           |-- src
|           |-- .gitignore
|           |-- eslint.config.js
|           |-- index.html
|           |-- package.json
|           |-- package-lock.json
|           |-- README.md
|           |-- tsconfig.app.json
|           |-- tsconfig.json
|           |-- tsconfig.node.json
|           \\-- vite.config.ts
|-- docs
|-- runtime
|-- services
|   \\-- orchestrator
|       \\-- src
|           |-- adapters
|           |-- api
|           |-- config
|           |-- planner
|           |-- scheduler
|           |-- storage
|           \\-- uir
|-- third_party
|   \\-- AnimationGPT
|       |-- algorithm
|       |   |-- HumanML3D
|       |   |-- motion-diffusion-model
|       |   |-- MotionGPT
|       |   \\-- motion-latent-diffusion
|       |-- README.assets
|       |   |-- annotation.jpg
|       |   |-- example.gif
|       |   \\-- videoDemo.mp4
|       |-- tools
|       |   |-- datasetProcess
|       |   |-- npy2bvh
|       |   |-- animation.py
|       |   |-- requirements.txt
|       |   \\-- vid2gif.py
|       |-- .gitmodules
|       |-- config_AGPT.yaml
|       |-- demo.py
|       |-- LICENSE
|       \\-- README.md
|-- tools
|   \\-- musicgpt
|-- .gitignore
|-- .gitmodules
|-- animation_back.py
|-- CONTRIBUTING.md
|-- foranimind 组织使用说明.md
|-- musicgpt-x86_64-pc-windows-msvc.exe
|-- README.md
|-- UIR（统一中间表示）字段规范 + Adapter 输入输出接口定义（接口文档版）.md
|-- 前端 UI 重构建议.md
|-- 文件结构.md
|-- 项目 GitGitHub 协作开发与维护指南.md
\\-- 中继服务器设计.md
```

