# apps/web 目录结构

说明: 基于当前源码内容整理; `.vite` 与 `node_modules` 为运行时/依赖产物, 未展开列出。

## Tree (含功能/内容简述)

```Plaintext
apps/web/
├── .env.example                # 环境变量示例 (VITE_API_BASE / VITE_USE_MOCK / VITE_DEV_PROXY_TARGET)
├── .vite/                      # Vite 本地缓存/构建产物
├── node_modules/               # 依赖安装目录 (npm install 生成)
├── public/
│   └── mock/
│       └── assets/
│           └── demo_job/
│               ├── manifest.json            # Mock 模式示例 manifest
│               ├── motion/
│               │   └── motion.bvh           # Mock 动作数据
│               ├── music/
│               │   └── music.wav            # Mock 音频
│               ├── preview/
│               │   └── preview_config.json  # Mock 预览配置
│               └── scene/
│                   └── panorama.png         # Mock 全景图
├── src/
│   ├── App.tsx                  # 路由入口: / /works /works/:id
│   ├── env.d.ts                 # Vite 环境变量类型声明
│   ├── global.d.ts              # CSS 导入类型声明
│   ├── main.tsx                 # React 挂载入口 + BrowserRouter
│   ├── components/
│   │   ├── layout/
│   │   │   ├── AppLayout.tsx    # 页面布局壳: 侧边栏 + Outlet
│   │   │   └── layout.css       # 全局布局/主题变量
│   │   ├── sidebar/
│   │   │   ├── AppSidebar.tsx   # 侧边栏: 导航/会话列表/折叠
│   │   │   └── sidebar.css      # 侧边栏样式
│   │   ├── library/
│   │   │   ├── LibraryCommandBar.tsx   # 搜索 + 筛选按钮 + chip
│   │   │   ├── LibraryFilterDrawer.tsx # 筛选抽屉 (ESC/点击关闭)
│   │   │   ├── LibraryFilters.tsx      # 筛选表单 (SelectMenu)
│   │   │   ├── WorkCard.tsx            # 作品卡片: 预览/状态/操作
│   │   │   └── library.css             # Library 页与卡片样式
│   │   ├── preview/
│   │   │   ├── PreviewPanel.tsx        # 预览面板: 加载/错误/空态
│   │   │   ├── PreviewControls.tsx     # 播放/进度/倍速/静音控制
│   │   │   ├── PreviewScene.tsx        # Three.js 场景: BVH+全景/模型
│   │   │   ├── ThreePreviewPlayer.tsx  # Three 预览播放器 (音频同步/错误边界)
│   │   │   └── preview.css             # 预览相关样式
│   │   └── ui/
│   │       └── SelectMenu.tsx    # 自定义下拉选择组件
│   ├── hooks/
│   │   ├── useJobRunner.ts       # 创建任务 + SSE/WS 订阅/轮询与状态合并
│   │   ├── usePreviewConfig.ts   # 加载 preview_config (状态机)
│   │   ├── useRecentWorks.ts     # 最近作品列表 (localStorage)
│   │   ├── useSessions.ts        # 会话索引列表 (localStorage)
│   │   └── useWorkDetail.ts      # 作品详情: manifest + preview_config
│   ├── lib/
│   │   ├── api.ts                # API 层: create/get job + SSE/WS + mock 模式
│   │   └── storage.ts            # 本地存储: 会话/最近作品读写与事件广播
│   ├── pages/
│   │   ├── CreatePage.tsx        # 创作页: 聊天输入/参数面板/任务进度/资产展示
│   │   ├── DetailPage.tsx        # 详情页路由包装
│   │   ├── LibraryPage.tsx       # 作品库: 筛选/列表/加载 manifest
│   │   ├── WorkDetailPage.tsx    # 作品详情: 预览 + 资产/导出抽屉
│   │   ├── pages.css             # 页面级通用样式 (含 Create 页主样式)
│   │   └── workDetail.css        # WorkDetailPage 专用样式
│   └── types/
│       ├── job.ts                # Job 状态/事件 zod schema
│       ├── manifest.ts           # manifest schema + 兼容字段归一化
│       ├── options.ts            # 创建任务的 options 类型
│       └── previewConfig.ts      # preview_config schema
├── eslint.config.js              # ESLint 配置 (TS/React Hooks/Refresh)
├── index.html                    # HTML 模板
├── package.json                  # 前端依赖与脚本
├── package-lock.json              # 依赖锁文件
├── README.md                     # 本地开发/Mock 模式说明
├── tsconfig.json                 # TypeScript 编译配置
└── vite.config.ts                # Vite 配置 (alias/proxy/base/env)
```

